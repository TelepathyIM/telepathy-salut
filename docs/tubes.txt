Implementation of tubes in telepathy-salut
==========================================

- Stream tubes and D-Bus tubes in a chatroom

Implemented. The XMPP spec is available on:
http://telepathy.freedesktop.org/xmpp/tubes.html

- 1-1 D-Bus tubes

Not tested

- 1-1 stream tubes

Implemented. The XMPP spec is the following.

Initiator to receptor: offer the tube:
  <iq type="set"
      from="alban_test01@alban-hp"
      to="alban_test02@alban-hp"
      id="8849419577">
    <tube type="stream"
          service="TicTacTube"
          id="364091438"
          xmlns="http://telepathy.freedesktop.org/xmpp/tubes">
      <transport port="47246"/>
    </tube>
    <parameters/>
  </iq>

Receptor to initiator: acknowledgment of the offer
  <iq type="result"
      from="alban_test02@alban-hp"
      to="alban_test01@alban-hp"
      id="8849419577"/>

This acknowledgment should be used to accept the tube. However the current code
ignores the acknowledgment. The tube will be accepted on the initiator side
when the first stream will be requested by the receptor. Gabble has a similar
problem, see https://bugs.freedesktop.org/show_bug.cgi?id=16595

The id of the iq stanza should be stored to reply later when the application
runs AcceptStreamTube or CloseTube.


-- Tube is used --

Receptor to initiator: close the tube

Initiator to receptor: acknowledges the close request


Note that the close message is sent twice. This must be fixed. Gabble has the
same bug:
https://bugs.freedesktop.org/show_bug.cgi?id=16797

